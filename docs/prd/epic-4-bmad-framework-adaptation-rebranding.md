# Epic 4: BMAD Framework Adaptation & Rebranding

**Goal:** Systematically rebrand BMAD agents to OutcomeSignal agents with functional names (Discovery Agent, Requirements Agent, etc.) while retaining BMAD personalities, adapt templates, and update workflows.

**Priority:** P0 (Must-Have)
**Dependencies:** None (parallel work with technical setup)
**Estimated Effort:** 2-3 weeks

## Story 4.1: Audit BMAD Framework for Rebranding Scope
**As a** developer
**I want** a complete inventory of BMAD references
**So that** we know exactly what needs rebranding

**Acceptance Criteria:**
- Audit report document listing:
  - 10 agent YAML configs (7 to keep: Analyst, PM, UX, Architect, QA, PO, SM; 3 to exclude: Dev, BMad-Master, BMad-Orchestrator)
  - 8 reasoning engine workflows (Python files)
  - 23 task analysis documents
  - 30+ templates (Brief, PRD, Architecture, etc.)
  - Infrastructure references (Firestore collections, Cloud Storage bucket names)
- Categorize by rebranding complexity (simple find-replace vs. logic changes)
- Estimate effort per category

**Technical Notes:**
- Use `grep -r "BMAD\|BMad\|bmad" reverse-engineering-docs/` to find references
- Create checklist in Linear or Notion for tracking

---

## Story 4.2: Define OutcomeSignal Agent Personas (Functional Names + BMAD Personalities)
**As a** PM
**I want** clear persona definitions for 7 OutcomeSignal agents
**So that** we maintain personality consistency while using functional names

**Acceptance Criteria:**
- Persona document defining:
  - **Discovery Agent** (BMAD Mary): Analytical, curious, enthusiastic researcher
  - **Requirements Agent** (BMAD John): Structured, pragmatic, collaborative PM
  - **Design Agent** (BMAD Sarah): Creative, empathetic, user-focused UX designer
  - **Architecture Agent** (BMAD Mike): Systematic, detail-oriented, scalability-focused architect
  - **Quality Agent** (BMAD Donna): Meticulous, proactive, quality-obsessed QA lead
  - **Validation Agent** (BMAD Karen): Strategic, decisive, business-focused PO
  - **Planning Agent** (BMAD Sam): Organized, practical, delivery-focused Scrum Master
- Each persona includes:
  - Functional name (for UI display)
  - Personality traits (from BMAD)
  - Communication style
  - Emoji icon (e.g., Discovery Agent üîç)

**Technical Notes:**
- Store persona definitions in `docs/agent-personas.md`
- Reference in system prompts (Story 4.4)

---

## Story 4.3: Rebrand Agent YAML Configurations (7 Agents)
**As a** developer
**I want** BMAD agent YAMLs rebranded to OutcomeSignal naming
**So that** our agent configs match the new brand

**Acceptance Criteria:**
- Rename YAML files:
  - `analyst.yaml` ‚Üí `discovery-agent.yaml`
  - `pm.yaml` ‚Üí `requirements-agent.yaml`
  - `ux-expert.yaml` ‚Üí `design-agent.yaml`
  - `architect.yaml` ‚Üí `architecture-agent.yaml`
  - `qa.yaml` ‚Üí `quality-agent.yaml`
  - `po.yaml` ‚Üí `validation-agent.yaml`
  - `sm.yaml` ‚Üí `planning-agent.yaml`
- Update `display_name` fields in YAMLs (e.g., "Discovery Agent")
- Update `description` fields to remove BMAD branding
- Retain personality traits in `system_prompt` fields (Story 4.4)

**Technical Notes:**
- Exclude `dev.yaml`, `bmad-master.yaml`, `bmad-orchestrator.yaml` (not needed for MVP)
- Move rebranded YAMLs to `apps/api/config/agents/`

---

## Story 4.4: Update Agent System Prompts with OutcomeSignal Branding
**As a** developer
**I want** agent system prompts to reflect OutcomeSignal brand and personas
**So that** agents introduce themselves correctly

**Acceptance Criteria:**
- Update system prompts in each YAML:
  - Replace "BMAD" with "OutcomeSignal"
  - Update agent introduction (e.g., "I'm the Discovery Agent üîç, your analytical researcher...")
  - Retain personality traits from BMAD (see Story 4.2)
  - Reference OutcomeSignal workspace context (three-column UI, Planning phase)
- Test prompts with LLM to verify tone matches persona

**Technical Notes:**
- System prompt template:
  ```
  You are the [Agent Name] for OutcomeSignal, an AI planning platform.
  Personality: [traits from Story 4.2]
  Your role: [functional description]
  Context: You're working within the Planning phase to create [document types].
  ```

---

## Story 4.5: Rebrand Document Templates (Brief, PRD, Architecture, etc.)
**As a** developer
**I want** BMAD document templates rebranded to OutcomeSignal
**So that** generated documents reflect the new brand

**Acceptance Criteria:**
- Update template headers (e.g., "OutcomeSignal Project Brief")
- Replace BMAD references in template instructions
- Update footer attribution: "Generated by OutcomeSignal"
- Templates to rebrand (8 core types):
  - Project Brief
  - Market Research
  - Competitive Analysis
  - PRD
  - Architecture Overview
  - UX Overview
  - Security Review
  - QA Strategy
- Templates stored in `apps/api/templates/`

**Technical Notes:**
- Use Jinja2 templates for variable substitution
- Keep template structure identical (only branding changes)

---

## Story 4.6: Adapt BMAD Reasoning Engine Workflows to OutcomeSignal
**As a** developer
**I want** BMAD workflows adapted to OutcomeSignal workflows
**So that** our backend orchestration matches the new agent structure

**Acceptance Criteria:**
- Rebrand workflow file names:
  - `create-next-story.py` ‚Üí `create-story.py` (Planning Agent workflow, deferred to Phase 2+)
  - `review-story.py` ‚Üí keep as-is (Quality Agent workflow, deferred)
  - `execute-checklist.py` ‚Üí `validate-document.py` (Validation Agent workflow)
  - `shard-doc.py` ‚Üí keep as-is (Requirements/Validation Agent workflow)
- Update workflow references to use OutcomeSignal agent names (Discovery Agent, etc.)
- Update Firestore collection names:
  - `bmad_projects` ‚Üí `initiatives`
  - `bmad_stories` ‚Üí `stories` (Phase 2+)
  - `bmad_documents` ‚Üí `documents`
- Test workflows with new agent configs

**Technical Notes:**
- Deploy workflows to Vertex AI Reasoning Engine (see architecture-design.md)
- Update workflow triggers in Cloud Scheduler

---

## Story 4.7: Consolidate Discovery Agent Capabilities (Market Research + Competitive Analysis)
**As a** developer
**I want** Discovery Agent to handle both Market Research and Competitive Analysis
**So that** we have 7 agents (not 8) as per final design

**Acceptance Criteria:**
- Update Discovery Agent YAML to include:
  - Market Research workflow (optional, user-triggered)
  - Competitive Analysis workflow (optional, user-triggered)
- Discovery Agent prompts understand both research types:
  - Market Research: TAM/SAM/SOM, trends, user segments
  - Competitive Analysis: Competitor features, pricing, positioning
- Remove separate "Market Research Agent" and "Competitive Analysis Agent" YAMLs (if they existed in BMAD)

**Technical Notes:**
- Discovery Agent system prompt includes:
  ```
  You can conduct two types of research:
  1. Market Research: Analyze TAM, trends, user needs
  2. Competitive Analysis: Compare competitors' features, pricing, positioning
  ```

---

## Story 4.8: Update Infrastructure Naming (Firestore, Cloud Storage, GCP Services)
**As a** developer
**I want** GCP infrastructure to use OutcomeSignal naming
**So that** our cloud resources reflect the brand

**Acceptance Criteria:**
- Rename Firestore collections:
  - `bmad_projects` ‚Üí `initiatives`
  - `bmad_documents` ‚Üí `documents`
  - `bmad_agent_conversations` ‚Üí `agent_conversations`
  - `bmad_workflow_states` ‚Üí `workflow_states`
- Rename Cloud Storage buckets:
  - `bmad-templates` ‚Üí `outcomesignal-templates`
  - `bmad-exports` ‚Üí `outcomesignal-exports`
- Update GCP project name (if BMAD-specific): `bmad-prod` ‚Üí `outcomesignal-prod`
- Update API endpoint paths: `/api/v1/bmad/...` ‚Üí `/api/v1/...`

**Technical Notes:**
- Create migration script for Firestore collection renaming
- Set up redirects for old API paths (backward compatibility during transition)

---
